# Face Recognition Mobile App â€” Walkthrough

## What Was Built

A cross-platform **React Native (Expo)** mobile app with a **Node.js backend** for face registration and attendance marking via face recognition.

### Project Structure

```
face-recognition/
â”œâ”€â”€ server/                    # Backend API
â”‚   â”œâ”€â”€ server.js              # Express server with face-api.js
â”‚   â”œâ”€â”€ download-models.js     # Model downloader script
â”‚   â”œâ”€â”€ models/                # Pre-trained face-api.js models (downloaded)
â”‚   â”œâ”€â”€ data/                  # JSON stores (faces.json, attendance.json)
â”‚   â””â”€â”€ package.json
â””â”€â”€ mobile/                    # React Native Expo app
    â”œâ”€â”€ App.js                 # Navigation setup
    â”œâ”€â”€ app.json               # Expo config with camera permissions
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ config.js          # API URL configuration
    â”‚   â””â”€â”€ screens/
    â”‚       â”œâ”€â”€ HomeScreen.js       # Landing page with gradient cards
    â”‚       â”œâ”€â”€ RegisterScreen.js   # Camera + name input â†’ register face
    â”‚       â””â”€â”€ AttendanceScreen.js # Camera â†’ scan face â†’ mark attendance
    â””â”€â”€ package.json
```

### Key Features

| Feature | Flow |
|---------|------|
| **Face Registration** | Enter name â†’ capture face photo â†’ sends base64 to `POST /api/register` â†’ server extracts face descriptor â†’ stores in `faces.json` |
| **Mark Attendance** | Capture face photo â†’ sends base64 to `POST /api/attendance` â†’ server matches against registered faces â†’ returns name + confidence |
| **Success Sound** | Plays a beep when attendance is successfully matched |
| **Face Guide Overlay** | Corner markers on camera to help position face correctly |

---

## Verification

- âœ… **iOS bundle compiled successfully** â€” 831 modules, 0 errors, 5.4s build time
- âœ… **Face-api.js models downloaded** â€” 8 model files in `server/models/`
- âœ… **Backend dependencies installed** â€” Express, face-api.js, @napi-rs/canvas, TF.js
- âœ… **Mobile dependencies installed** â€” expo-camera, react-navigation, expo-av

---

## How to Run

### 1. Start the Backend Server
```bash
cd server
node server.js
```
Server runs on `http://localhost:3000`. You should see:
```
âœ… Models loaded successfully!
ðŸš€ Face Recognition Server running on http://0.0.0.0:3000
```

### 2. Start the Mobile App
```bash
cd mobile
npx expo start
```

### 3. Test on Device
- **iOS Simulator**: Press `i` in the Expo terminal
- **Physical Device**: Install **Expo Go** app, scan the QR code
- **Android Emulator**: Press `a` in the Expo terminal

> [!IMPORTANT]
> **Physical device?** Update `src/config.js` with your Mac's local IP address:
> ```js
> return 'http://192.168.x.x:3000';
> ```
> Find your IP with: `ifconfig | grep "inet " | grep -v 127.0.0.1`
